function p(e,t,s,i=!1){return{name:e,code(o){const f=o.children.filter(n=>n.type==="element"),c=[];f.forEach((n,d)=>{let l;for(const r of n.children){if(r.type!=="element")continue;const a=r.children[0];if(a.type!=="text")continue;let h=!1;a.value=a.value.replace(t,(...m)=>s.call(this,m,n,r,f,d)?(h=!0,""):m[0]),h&&!a.value.trim()&&(l=r)}if(l&&(n.children.splice(n.children.indexOf(l),1),n.children.length===0&&(c.push(n),i))){const r=o.children[o.children.indexOf(n)+1];r&&r.type==="text"&&r.value===`
`&&c.push(r)}});for(const n of c)o.children.splice(o.children.indexOf(n),1)}}}function g(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function u(e={},t="@shikijs/transformers:notation-map"){const{classMap:s={},classActivePre:i=void 0}=e;return p(t,new RegExp(`\\s*(?://|/\\*|<!--|#|--|%{1,2}|;{1,2}|"|')\\s+\\[!code (${Object.keys(s).map(g).join("|")})(:\\d+)?\\]\\s*(?:\\*/|-->)?\\s*$`),function([o,f,c=":1"],n,d,l,r){const a=Number.parseInt(c.slice(1),10);return l.slice(r,r+a).forEach(h=>{this.addClassToHast(h,s[f])}),i&&this.addClassToHast(this.pre,i),!0})}function v(e={}){const{classLineAdd:t="diff add",classLineRemove:s="diff remove",classActivePre:i="has-diff"}=e;return u({classMap:{"++":t,"--":s},classActivePre:i},"@shikijs/transformers:notation-diff")}function x(e={}){const{classMap:t={error:["highlighted","error"],warning:["highlighted","warning"]},classActivePre:s="has-highlighted"}=e;return u({classMap:t,classActivePre:s},"@shikijs/transformers:notation-error-level")}function A(e={}){const{classActiveLine:t="focused",classActivePre:s="has-focused"}=e;return u({classMap:{focus:t},classActivePre:s},"@shikijs/transformers:notation-focus")}function N(e={}){const{classActiveLine:t="highlighted",classActivePre:s="has-highlighted"}=e;return u({classMap:{highlight:t,hl:t},classActivePre:s},"@shikijs/transformers:notation-highlight")}export{p as createCommentNotationTransformer,v as transformerNotationDiff,x as transformerNotationErrorLevel,A as transformerNotationFocus,N as transformerNotationHighlight};
